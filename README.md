TODO:
    apply метод в request/response object принимающий содержимое contentType
    create configurable executors for service/bus & transports
    common transport code
    todo eliminate helpers
    publish result with offset

    - перенести encoder в message
    - перенести partitionextractor в topic в message
    - выделить exceptionEncoder
    - перенести body-decoder в companion
    
macros:
    - генератор encoder/body-decoder перенести в request
    